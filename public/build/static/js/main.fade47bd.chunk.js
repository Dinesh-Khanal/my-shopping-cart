(this["webpackJsonpmy-shopping-cart"]=this["webpackJsonpmy-shopping-cart"]||[]).push([[0],{25:function(e,t,a){e.exports=a(47)},30:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),i=(a(30),a(1)),u=a(5);function s(e){return"$"+Number(e.toFixed(1)).toLocaleString()+" "}var o=a(21),m=a.n(o),d=a(22),E=a.n(d),p=a(2),f=a(13),v=a.n(f),b=a(23),O=a(3),g=a(24),h=function(e){return function(t,a){var n=a().cart.cartItems.slice(),r=!1;n.forEach((function(t){t._id===e._id&&(r=!0,t.count++)})),r||n.push(Object(p.a)(Object(p.a)({},e),{},{count:1})),t({type:"ADD_TO_CART",payload:{cartItems:n}}),localStorage.setItem("cartItems",JSON.stringify(n))}},_={},N=Object(O.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_PRODUCTS_BY_SIZE":return Object(p.a)(Object(p.a)({},e),{},{size:t.payload.size,sort:t.payload.sort,filteredItems:t.payload.items});case"ORDER_PRODUCTS_BY_PRICE":return Object(p.a)(Object(p.a)({},e),{},{sort:t.payload.sort,filteredItems:t.payload.items});case"FETCH_PRODUCTS":return{items:t.payload,filteredItems:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:JSON.parse(localStorage.getItem("cartItems")||"[]")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":case"REMOVE_FROM_CART":return{cartItems:t.payload.cartItems};default:return e}}}),y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.d,j=Object(O.e)(N,y(Object(O.a)(g.a))),S=function(){var e=Object(i.c)((function(e){return e.products.filteredItems})),t=Object(n.useState)(null),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),d=Object(u.a)(o,2),p=d[0],f=d[1],v=Object(i.b)(),b=function(){l(null),f(!1)};return r.a.createElement("div",null,e?r.a.createElement("ul",{className:"products"},e.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("div",{className:"product"},r.a.createElement("a",{href:"#"+e._id,onClick:function(){return function(e){l(e),f(!0)}(e)}},r.a.createElement("img",{src:e.image,alt:e.title}),r.a.createElement("p",null,e.title)),r.a.createElement("div",{className:"product-price"},r.a.createElement("div",null,s(e.price)),r.a.createElement("button",{onClick:function(){return v(h(e))},className:"button primary"},"Add to Cart"))))}))):r.a.createElement("div",null,"Loading..."),c&&r.a.createElement(m.a,{isOpen:p,onRequestClose:b},r.a.createElement(E.a,null,r.a.createElement("button",{className:"close-modal",onClick:b},"X"),r.a.createElement("div",{className:"product-details"},r.a.createElement("img",{src:c.image,alt:c.title}),r.a.createElement("div",{className:"product-details-description"},r.a.createElement("p",null,r.a.createElement("strong",null,c.title)),r.a.createElement("p",null,c.description),r.a.createElement("p",null,"Available Sizes:"," ",c.availableSizes.map((function(e){return r.a.createElement("span",null," ",r.a.createElement("button",{className:"button"},e))}))),r.a.createElement("div",{className:"product-price"},r.a.createElement("div",null,"Price: ",s(c.price)),r.a.createElement("button",{className:"button primary",onClick:function(){v(h(c)),b()}},"Add to Cart")))))))},C=function(){var e=Object(i.c)((function(e){return e.products.filteredItems})),t=Object(i.c)((function(e){return e.products.items})),a=Object(i.c)((function(e){return e.products.size})),n=Object(i.c)((function(e){return e.products.sort})),c=Object(i.b)();return r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"filter-result"},e?e.length:"Loading"," Products"),r.a.createElement("div",{className:"filter-sort"},"Order"," ",r.a.createElement("select",{value:n,onChange:function(t){return c(function(e,t){return function(a){var n=e.slice();"latest"===t?n.sort((function(e,t){return e._id>t._id?1:-1})):n.sort((function(e,a){return"lowest"===t?e.price>a.price?1:-1:e.price>a.price?-1:1})),a({type:"ORDER_PRODUCTS_BY_PRICE",payload:{sort:t,items:n}})}}(e,t.target.value))}},r.a.createElement("option",null,"Latest"),r.a.createElement("option",{value:"lowest"},"Lowest"),r.a.createElement("option",{value:"highest"},"Highest"))),r.a.createElement("div",{className:"filter-size"},"Filter"," ",r.a.createElement("select",{value:a,onChange:function(e){return c(function(e,t){return function(a){a({type:"FILTER_PRODUCTS_BY_SIZE",payload:{size:t,sort:"latest",items:""===t?e:e.filter((function(e){return e.availableSizes.indexOf(t)>=0}))}})}}(t,e.target.value))}},r.a.createElement("option",{value:""},"ALL"),r.a.createElement("option",{value:"XS"},"XS"),r.a.createElement("option",{value:"S"},"S"),r.a.createElement("option",{value:"M"},"M"),r.a.createElement("option",{value:"L"},"L"),r.a.createElement("option",{value:"XL"},"XL"),r.a.createElement("option",{value:"XXL"},"XXL"))))},I=a(7),R=a(14),T=a.n(R),L=function(){var e=Object(i.c)((function(e){return e.cart.cartItems})),t=Object(n.useState)({name:"",email:"",address:""}),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),m=Object(u.a)(o,2),d=m[0],E=m[1],f=Object(i.b)(),v=function(e){l(Object(p.a)(Object(p.a)({},c),{},Object(I.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,0===e.length?r.a.createElement("div",{className:"cart cart-header"},"Cart is empty"):r.a.createElement("div",{className:"cart cart-header"},"You have ",e.length," products in the cart"),r.a.createElement("div",null,r.a.createElement("div",{className:"cart"},r.a.createElement(T.a,{left:!0,cascade:!0},r.a.createElement("ul",{className:"cart-items"},e.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("div",null,r.a.createElement("img",{src:e.image,alt:e.title})),r.a.createElement("div",null,r.a.createElement("div",null,e.title),r.a.createElement("div",{className:"right"},s(e.price)," X ",e.count," ",r.a.createElement("button",{onClick:function(){return f((t=e,function(e,a){var n=a().cart.cartItems.slice().filter((function(e){return e._id!==t._id}));e({type:"REMOVE_FROM_CART",payload:{cartItems:n}}),localStorage.setItem("cartItems",JSON.stringify(n))}));var t},className:"button"},"Remove"))))}))))),0!==e.length&&r.a.createElement("div",{className:"cart"},r.a.createElement("div",{className:"total"},r.a.createElement("div",null,"Total:"," ",s(e.reduce((function(e,t){return e+t.price*t.count}),0))),r.a.createElement("button",{onClick:function(){return E(!0)},className:"button primary"},"Proceed"))),d&&r.a.createElement("div",{className:"cart"},r.a.createElement(T.a,{right:!0,cascade:!0},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l({name:"",email:"",address:""}),E(!1)}},r.a.createElement("ul",{className:"form-container"},r.a.createElement("li",null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{name:"name",required:!0,type:"text",value:c.name,onChange:v})),r.a.createElement("li",null,r.a.createElement("label",null,"Email"),r.a.createElement("input",{name:"email",required:!0,type:"email",value:c.email,onChange:v})),r.a.createElement("li",null,r.a.createElement("label",null,"Address"),r.a.createElement("input",{name:"address",required:!0,type:"text",value:c.address,onChange:v})),r.a.createElement("li",null,r.a.createElement("button",{className:"button primary"},"Checkout"))))))))};var D=function(){var e=Object(i.b)();return Object(n.useEffect)((function(){e(function(){var e=Object(b.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,t({type:"FETCH_PRODUCTS",payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),r.a.createElement("div",{className:"grid-container"},r.a.createElement("header",null,r.a.createElement("a",{href:"/"},"Sneha Online Fashion Store")),r.a.createElement("main",null,r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"main"},r.a.createElement(C,null),r.a.createElement(S,null)),r.a.createElement("div",{className:"sidebar"},r.a.createElement(L,null)))),r.a.createElement("footer",null,"All right is reserved"))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:j},r.a.createElement(D,null))),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.fade47bd.chunk.js.map